<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8"/>

  <meta
    http-equiv="Content-Security-Policy"
    content="default-src 'none'; style-src 'self' 'unsafe-eval' {{cspSource}}; img-src 'self' https: http: data: {{cspSource}}; script-src 'nonce-{{nonce}}'; connect-src 'self' https://gitee.com/;"
  />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <link href="{{reset}}" rel="stylesheet"/>
  <link href="{{vscode}}" rel="stylesheet"/>
  <link href="{{main}}" rel="stylesheet"/>

  <title>{{title}}</title>
</head>
<body>
<div class="title-wrap">
  <img src="{{angcyo}}" width="25" title="angcyo"/>
  <h1>{{title}}</h1>
</div>
<label class="padding margin">时间/时间戳格式转换↓</label>

<div class="margin timestamp">
  <label for="timestamp">时间戳:</label>
  <input
    type="text"
    id="timestamp"
    name="name"
    required
    minlength="10"
    maxlength="13"
    placeholder="10位秒/13位毫秒"
  />
  <span>→ </span>
  <label id="timestampResult" for="timestamp">~</label>

  <label for="time">时间:</label>
  <input
    type="text"
    id="time"
    name="name"
    required
    minlength="10"
    maxlength="23"
    placeholder="yyyy-MM-dd HH:mm:ss:SSS"
  />
  <input type="datetime-local" id="dateTime" placeholder="日期和时间"/>
  <span>→ </span>
  <label id="timeResult" for="time">~</label>
</div>

<div class="firmware-input-wrap margin">
  <label for="rawVersionInputHex">4字节版本号(Hex):</label>
  <input id="rawVersionInputHex" type="email" placeholder="0"/>
  <label for="rawVersionInput"><-->4字节版本号(Dec):</label>
  <input id="rawVersionInput" type="number" placeholder="0"/>
  <button type="button" id="parseRawVersion">解析</button>

  <label for="testVersionInput">语义固件版本:</label>
  <input id="testVersionInput" type="text" placeholder="1.0.0"/>
  <label for="testVersionResultInput"><-->固件版本号:</label>
  <input id="testVersionResultInput" type="number" placeholder="4096"/>
</div>

<br/>
<label class="padding margin">ydb文件生成及解析↓</label>

<div class="margin">
  <input
    id="selectFile"
    type="file"
    accept=".bin,.ydb"
    placeholder="请选择文件..."
  />
  <label id="fileLabel" style="cursor: pointer"></label>
</div>

<div class="button-wrap margin" id="deviceButtonWrap"></div>

<div class="firmware-input-wrap margin">
  <label for="testFlag">固件类型:</label>
  <input id="testFlag" type="number" placeholder="0:量产 1:试产"/>
  <label for="productFlag">产品型号:</label>
  <input id="productFlag" type="number" placeholder="1:G01 2:G02"/>
  <label for="productNumberFlag">产品编号:</label>
  <input id="productNumberFlag" type="number" placeholder="1 2 3 4 5"/>
  <label for="versionInput">语义固件版本:</label>
  <input id="versionInput" type="text" placeholder="1.0.0"/>
  <label for="versionRangeInput">语义固件版本升级范围:</label>
  <input id="versionRangeInput" type="text" placeholder="0.0.0~15.15.255"/>
</div>

<div class="margin">
  <label for="data"
  >插入的数据: (t:构建时间; v:固件版本 n:版本名称 d:版本描述
    r:升级范围)</label
  >
  <textarea
    id="data"
    name="data"
    placeholder="需要插入到bin末尾的数据..."
    autofocus
    rows="9"
  ></textarea>
</div>

<div class="button-wrap margin">
  <button type="button" id="create">生成ydb</button>
  <button type="button" id="parse">解析ydb</button>
</div>

<label for="result">文件数据:</label>
<textarea
  id="result"
  name="result"
  placeholder="选择的文件数据..."
  rows="16"
  disabled
></textarea>

<script nonce="{{nonce}}" src="{{common}}"></script>
<script nonce="{{nonce}}" src="{{spark}}"></script>
<script nonce="{{nonce}}" src="{{script}}"></script>
</body>
</html>
